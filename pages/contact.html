<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="../Assets/img/Logo.png" type="image/png" />
    <link rel="stylesheet" href="../Assets/style.css" />
    <title>Contact</title>
  </head>
  <body>
    <!-- ============  HEADER ========== -->
    <header class="header">
      <div class="container">
        <div class="row align-items-center justify-content-between">
          <div class="logo">
            <a href="../index.html"
              ><img src="../Assets/img/Logo.png" alt=""
            /></a>
          </div>
          <input type="checkbox" id="nav-check" />
          <label for="nav-check" class="nav-toggler">
            <span></span>
          </label>
          <nav class="nav">
            <ul>
              <li><a href="../index.html" class="active">home</a></li>
              <li><a href="./About.html">about</a></li>
              <li><a href="./Portfolio.html">portfolio</a></li>
              <li><a href="./blog.html">Blog</a></li>
              <li><a href="./contact.html">contact</a></li>
              <li>
                <button class="nav_login">
                  <a href="./login.html" id="nav_login_name">Login</a>
                </button>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <!-- ===========  MAIN  ========= -->
    <main class="main_contact">
      <div class="contact_container">
        <div class="contact_container_left">
          <div class="contact_container_left_header">
            <h1>Get in touch</h1>
          </div>
          <div class="contact_container_left_form">
            <form action="">
              <input
                type="text"
                id="fullName"
                placeholder="Enter your full Name"
                required
              />
              <input
                type="email"
                id="email"
                placeholder="Enter your email"
                required
              />
              <textarea
                name=""
                id="textarea"
                cols="30"
                rows="10"
                placeholder="Message"
                required
              ></textarea
              ><br />
              <button class="submit_button" type="button" onclick="send()">
                Submit
              </button>
            </form>
          </div>
        </div>
        <div class="contact_container_right">
          <div class="contact_container_right_img">
            <img src="../Assets/img/contact.png" alt="contact image" />
          </div>
          <div class="contact_description">
            <!-- For call -->
            <p class="Phone_number">+250 781 840 978</p>
            <p class="email">kananuraabdulkhaliq59@gmail.com</p>
          </div>
        </div>
      </div>
    </main>
    <script>
      // let contactUs = [];
      // function send() {
      //   const fullName = document.getElementById("fullName");
      //   const email = document.getElementById("email");
      //   const textArea = document.getElementById("textarea");
      //   let contactData = {
      //     fullName: fullName.value,
      //     email: email.value,
      //     textArea: textArea.value,
      //   };
      //   contactUs.push(contactData);
      //   setContactData();
      // }
      // function setContactData() {
      //   localStorage.setItem("contactUs", JSON.stringify(contactUs));
      //   alert("Your feedback sent successfully");
      // }

      /*
      const form = document.getElementById("create-article-form");
const title = document.getElementById("title");
const description = document.getElementById("description");
const blogBody = document.getElementById("articleBody");
form.addEventListener("submit", async (event) => {
  event.preventDefault();
  console.log(title.value, description.value, blogBody.value);
  const token =
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzZGMyN2QyODZiMGM4MzZhNzc5ODU3MiIsImlhdCI6MTY3NTc2NTU1NiwiZXhwIjoxNjc1ODUxOTU2fQ.lzJWBpnuH1lKc7LrQSgsUVPV2_u6iAueAx8iv89bTpE";
  const url = "https://shumbusho-emile.onrender.com/blogs/createBlog";
  const body = {
    title: title.value,
    description: description.value,
    blogBody: blogBody.value,
    imageUrl:
      "https://imgs.search.brave.com/0Phbn0ycrNwDONqWQGJv_lNJc-8it55i87fHfmc2Zy0/rs:fit:1200:1200:1/g:ce/aHR0cDovL3d3dy5z/bnV0LmZyL3dwLWNv/bnRlbnQvdXBsb2Fk/cy8yMDE1LzA4L2lt/YWdlLWRlLXBheXNh/Z2UuanBn",
  };
  fetch(url, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      Authorization: `Bearer ${token}`,
    },
    body: JSON.stringify(body),
  })
    .then((response) => response.json())
    .then((data) => {
      console.log(data.message);
    })
    .catch((error) => {
      console.error("There was a problem with the fetch operation:", error);
    });
});
      
      */
      //Integration to the backend

      async function send() {
        const fullName = document.getElementById("fullName").value;
        const email = document.getElementById("email").value;
        const content = document.getElementById("textarea").value;

        const data = { fullName, email, content };
        console.log(data);
        const options = {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        };

        const response = await fetch(
          "https://capstone-backend-mzjj.onrender.com/contact",
          options
        );
        const result = await response.json();
        console.log(result);
        if (response.ok) {
          console.log(result);
          alert("Your message has been sent successfully!");
        } else {
          console.error(result);
          alert("An error occurred. Please try again later.");
        }
      }
    </script>
  </body>
</html>
